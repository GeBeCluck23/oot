#include "ultra64.h"
#include "z64.h"
#include "macros.h"
#include "escape_rm_boss_scene.h"
#include "segment_symbols.h"
#include "command_macros_base.h"
#include "z64cutscene_commands.h"
#include "variables.h"

/**
 * Header Child Day (Default)
*/
#define LENGTH_ESCAPE_RM_BOSS_ROOM_0_HEADER00_OBJECTLIST 4
#define LENGTH_ESCAPE_RM_BOSS_ROOM_0_HEADER00_ACTORLIST 1
SceneCmd escape_rm_boss_room_0_header00[] = {
    SCENE_CMD_ECHO_SETTINGS(0x00),
    SCENE_CMD_ROOM_BEHAVIOR(0x00, 0x00, false, false),
    SCENE_CMD_SKYBOX_DISABLES(true, true),
    SCENE_CMD_TIME_SETTINGS(0xFF, 0xFF, 0),
    SCENE_CMD_ROOM_SHAPE(&escape_rm_boss_room_0_shapeHeader),
    SCENE_CMD_OBJECT_LIST(LENGTH_ESCAPE_RM_BOSS_ROOM_0_HEADER00_OBJECTLIST, escape_rm_boss_room_0_header00_objectList),
    SCENE_CMD_ACTOR_LIST(LENGTH_ESCAPE_RM_BOSS_ROOM_0_HEADER00_ACTORLIST, escape_rm_boss_room_0_header00_actorList),
    SCENE_CMD_END(),
};

s16 escape_rm_boss_room_0_header00_objectList[LENGTH_ESCAPE_RM_BOSS_ROOM_0_HEADER00_OBJECTLIST] = {
    OBJECT_WIZ,
    OBJECT_BB,
    OBJECT_FIREFLY,
    OBJECT_IK,
};

ActorEntry escape_rm_boss_room_0_header00_actorList[LENGTH_ESCAPE_RM_BOSS_ROOM_0_HEADER00_ACTORLIST] = {
    // Custom Actor
    {
        /* Actor ID   */ ACTOR_EN_WIZ,
        /* Position   */ { 0, 41, 0 },
        /* Rotation   */ { DEG_TO_BINANG(0.000), DEG_TO_BINANG(0.000), DEG_TO_BINANG(0.000) },
        /* Parameters */ 0x0001
    },
};

RoomShapeNormal escape_rm_boss_room_0_shapeHeader = {
    ROOM_SHAPE_TYPE_NORMAL,
    ARRAY_COUNT(escape_rm_boss_room_0_shapeDListEntry),
    escape_rm_boss_room_0_shapeDListEntry,
    escape_rm_boss_room_0_shapeDListEntry + ARRAY_COUNT(escape_rm_boss_room_0_shapeDListEntry)
};

RoomShapeDListsEntry escape_rm_boss_room_0_shapeDListEntry[1] = {
    { escape_rm_boss_room_0_entry_0_opaque, NULL },
};

Gfx escape_rm_boss_room_0_entry_0_opaque[] = {
	gsSPDisplayList(escape_rm_boss_dl_Cylinder_mesh_layer_Opaque),
	gsSPEndDisplayList(),
};

u64 escape_rm_boss_dl_syotes2_room_0Tex_006EF8_rgba16_ci4[] = {
	0x0001121222312242, 0x2414565656776755, 0x5557777766455442, 0x2231223131213100, 0x5131323122113113, 0x3444466766787667, 0x7767676666542223, 0x0422122413242302, 
	0x9214221424122221, 0x3454444677887677, 0x6668777776554422, 0x3442333122442049, 0x9231301231322210, 0x3455442565687676, 0x6666657755444213, 0x0242130330342359, 
	0x4113333000a31130, 0x1122255555687787, 0x7766666544122230, 0x1313321130142224, 0x4311230311310313, 0x2114565676677667, 0x6676765565241123, 0x2132241121311334, 
	0x9523300133313122, 0x1345564577577777, 0x6776655654241242, 0x1324223321012249, 0x9520003312111221, 0x3324465677578887, 0x7775656556542441, 0x3011321142024459, 
	0x5423221032113013, 0x1112454577578777, 0x7876776456441313, 0x1133120022014214, 0x2211420022333312, 0x2424244455567666, 0x6767875566422122, 0x2211030a33a31134, 
	0x9623220142333332, 0x2455466577666667, 0x6876775676442212, 0x2422322321313329, 0xb523123221311333, 0x3445567776787767, 0x8876776775454113, 0x322222422314222c, 
	0x5331342223122311, 0x2225566766888876, 0x7667687765555121, 0x2232222211442411, 0x6424123001232213, 0x2445444676876765, 0x8878776556645421, 0x2222300311423233, 
	0xb531300303112131, 0x4125555687865766, 0x8867655645555411, 0x233213014243022c, 0x9522131132222332, 0x2445444576776877, 0x7877767756665112, 0x221230a32121345b, 
	0x4222113124331001, 0x1214454677877888, 0x7887666676422331, 0x3132110122422425, 0x4003131144213a03, 0x2232564776767887, 0x7666666677541003, 0x2103223221132445, 
	0x9111302342331322, 0x2314665676667776, 0x6677657576422122, 0x2032421221332149, 0x9423a32121121122, 0x1345522457766676, 0x6776557664442222, 0x1324430032131349, 
	0x5242321311321031, 0x1242525667777777, 0x7787676555252331, 0x3241201212221124, 0x5144213130042333, 0x1454546755776766, 0x7688765542154333, 0x1442432433223111, 
	0xb421131221023300, 0x3442557777767755, 0x6776756765241100, 0x342142442223221c, 0x9131301331011101, 0x2422545678767766, 0x6567656555242231, 0x2221211224132219, 
	0x4324103113033103, 0x0332554457667657, 0x7678755664121203, 0x0003210032312304, 0x2243330331131231, 0x3114224667665556, 0x6786665545422431, 0x3331300114130004, 
	0x9642230222133132, 0x1145244777676775, 0x6887765766521132, 0x1322330221313149, 0x9433113221331322, 0x2242444777777876, 0x7766765765222122, 0x2123130222122459, 
	0x4322311213112321, 0x1142555788877875, 0x7677676765544122, 0x1313213244412411, 0x4122033122230123, 0x3311467788756765, 0x6777565676521243, 0x3000322244203203, 
	0x943100a022213121, 0x4444456577766766, 0x6767555576642241, 0x421133132213311c, 0xd542030012221313, 0x4541267555765677, 0x8888665566654113, 0x441002200011004d, 
	
};

u64 escape_rm_boss_dl_syotes2_room_0Tex_006EF8_rgba16_pal_rgba16[] = {
	0x7801680160017001, 0x5801500148014001, 0x3801180180011001, 0x2001080100000000
};

Vtx escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_vtx_cull[8] = {
	{{ {-600, -120, 600}, 0, {0, 0}, {0, 0, 0, 0} }},
	{{ {-600, 735, 600}, 0, {0, 0}, {0, 0, 0, 0} }},
	{{ {-600, 735, -600}, 0, {0, 0}, {0, 0, 0, 0} }},
	{{ {-600, -120, -600}, 0, {0, 0}, {0, 0, 0, 0} }},
	{{ {600, -120, 600}, 0, {0, 0}, {0, 0, 0, 0} }},
	{{ {600, 735, 600}, 0, {0, 0}, {0, 0, 0, 0} }},
	{{ {600, 735, -600}, 0, {0, 0}, {0, 0, 0, 0} }},
	{{ {600, -120, -600}, 0, {0, 0}, {0, 0, 0, 0} }},
};

Vtx escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_vtx_0[101] = {
	{{ {-109, -120, -600}, 0, {1646, 1417}, {254, 0, 127, 255} }},
	{{ {129, -120, -596}, 0, {1532, 1499}, {254, 0, 127, 255} }},
	{{ {129, 735, -596}, 0, {1466, -722}, {254, 0, 127, 255} }},
	{{ {-109, 735, -600}, 0, {1597, -804}, {254, 0, 127, 255} }},
	{{ {129, -120, -596}, 0, {1532, 1499}, {205, 0, 116, 255} }},
	{{ {347, -120, -501}, 0, {1414, 1597}, {205, 0, 116, 255} }},
	{{ {347, 735, -501}, 0, {1343, -624}, {205, 0, 116, 255} }},
	{{ {129, 735, -596}, 0, {1466, -722}, {205, 0, 116, 255} }},
	{{ {347, -120, -501}, 0, {1414, 1597}, {165, 0, 88, 255} }},
	{{ {513, -120, -330}, 0, {1291, 1697}, {165, 0, 88, 255} }},
	{{ {513, 735, -330}, 0, {1224, -524}, {165, 0, 88, 255} }},
	{{ {347, 735, -501}, 0, {1343, -624}, {165, 0, 88, 255} }},
	{{ {513, -120, -330}, 0, {1291, 1697}, {138, 0, 47, 255} }},
	{{ {600, -120, -109}, 0, {1162, 1783}, {138, 0, 47, 255} }},
	{{ {600, 735, -109}, 0, {1109, -438}, {138, 0, 47, 255} }},
	{{ {513, 735, -330}, 0, {1224, -524}, {138, 0, 47, 255} }},
	{{ {600, -120, -109}, 0, {1162, 1783}, {129, 0, 254, 255} }},
	{{ {596, -120, 129}, 0, {1026, 1843}, {129, 0, 254, 255} }},
	{{ {596, 735, 129}, 0, {996, -378}, {129, 0, 254, 255} }},
	{{ {600, 735, -109}, 0, {1109, -438}, {129, 0, 254, 255} }},
	{{ {596, -120, 129}, 0, {1026, 1843}, {140, 0, 205, 255} }},
	{{ {501, -120, 347}, 0, {886, 1866}, {140, 0, 205, 255} }},
	{{ {501, 735, 347}, 0, {883, -355}, {140, 0, 205, 255} }},
	{{ {596, 735, 129}, 0, {996, -378}, {140, 0, 205, 255} }},
	{{ {501, -120, 347}, 0, {886, 1866}, {168, 0, 165, 255} }},
	{{ {330, -120, 513}, 0, {745, 1850}, {168, 0, 165, 255} }},
	{{ {330, 735, 513}, 0, {771, -371}, {168, 0, 165, 255} }},
	{{ {501, 735, 347}, 0, {883, -355}, {168, 0, 165, 255} }},
	{{ {330, -120, 513}, 0, {745, 1850}, {209, 0, 138, 255} }},
	{{ {109, -120, 600}, 0, {609, 1796}, {209, 0, 138, 255} }},
	{{ {109, 735, 600}, 0, {658, -425}, {209, 0, 138, 255} }},
	{{ {330, 735, 513}, 0, {771, -371}, {209, 0, 138, 255} }},
	{{ {109, -120, 600}, 0, {609, 1796}, {2, 0, 129, 255} }},
	{{ {-129, -120, 596}, 0, {478, 1714}, {2, 0, 129, 255} }},
	{{ {-129, 735, 596}, 0, {543, -507}, {2, 0, 129, 255} }},
	{{ {109, 735, 600}, 0, {658, -425}, {2, 0, 129, 255} }},
	{{ {-129, -120, 596}, 0, {478, 1714}, {51, 0, 140, 255} }},
	{{ {-347, -120, 501}, 0, {355, 1616}, {51, 0, 140, 255} }},
	{{ {-347, 735, 501}, 0, {426, -605}, {51, 0, 140, 255} }},
	{{ {-129, 735, 596}, 0, {543, -507}, {51, 0, 140, 255} }},
	{{ {-347, -120, 501}, 0, {355, 1616}, {91, 0, 168, 255} }},
	{{ {-513, -120, 330}, 0, {236, 1516}, {91, 0, 168, 255} }},
	{{ {-513, 735, 330}, 0, {303, -705}, {91, 0, 168, 255} }},
	{{ {-347, 735, 501}, 0, {426, -605}, {91, 0, 168, 255} }},
	{{ {-513, -120, 330}, 0, {236, 1516}, {118, 0, 209, 255} }},
	{{ {-600, -120, 109}, 0, {121, 1430}, {118, 0, 209, 255} }},
	{{ {-600, 735, 109}, 0, {174, -791}, {118, 0, 209, 255} }},
	{{ {-513, 735, 330}, 0, {303, -705}, {118, 0, 209, 255} }},
	{{ {-600, -120, 109}, 0, {121, 1430}, {127, 0, 2, 255} }},
	{{ {-596, -120, -129}, 0, {8, 1370}, {127, 0, 2, 255} }},
	{{ {-596, 735, -129}, 0, {38, -851}, {127, 0, 2, 255} }},
	{{ {-600, 735, 109}, 0, {174, -791}, {127, 0, 2, 255} }},
	{{ {-596, -120, -129}, 0, {1984, 1370}, {116, 0, 51, 255} }},
	{{ {-501, -120, -347}, 0, {1872, 1347}, {116, 0, 51, 255} }},
	{{ {-501, 735, -347}, 0, {1874, -874}, {116, 0, 51, 255} }},
	{{ {-596, 735, -129}, 0, {2015, -851}, {116, 0, 51, 255} }},
	{{ {-109, 735, -600}, 0, {1008, -16}, {0, 129, 0, 255} }},
	{{ {129, 735, -596}, 0, {1400, 23}, {0, 129, 0, 255} }},
	{{ {347, 735, -501}, 0, {1732, 134}, {0, 129, 0, 255} }},
	{{ {600, 735, -109}, 0, {2032, 496}, {0, 129, 0, 255} }},
	{{ {513, 735, -330}, 0, {1954, 300}, {0, 129, 0, 255} }},
	{{ {109, 735, 600}, 0, {1008, 1008}, {0, 129, 0, 255} }},
	{{ {501, 735, 347}, 0, {1732, 858}, {0, 129, 0, 255} }},
	{{ {596, 735, 129}, 0, {1954, 692}, {0, 129, 0, 255} }},
	{{ {501, 735, 347}, 0, {1732, 858}, {0, 129, 0, 255} }},
	{{ {330, 735, 513}, 0, {1400, 969}, {0, 129, 0, 255} }},
	{{ {109, 735, 600}, 0, {1008, 1008}, {0, 129, 0, 255} }},
	{{ {-129, 735, 596}, 0, {616, 969}, {0, 129, 0, 255} }},
	{{ {-347, 735, 501}, 0, {284, 858}, {0, 129, 0, 255} }},
	{{ {-600, 735, 109}, 0, {-16, 496}, {0, 129, 0, 255} }},
	{{ {-513, 735, 330}, 0, {62, 692}, {0, 129, 0, 255} }},
	{{ {-109, 735, -600}, 0, {1008, -16}, {0, 129, 0, 255} }},
	{{ {-501, 735, -347}, 0, {284, 134}, {0, 129, 0, 255} }},
	{{ {-596, 735, -129}, 0, {62, 300}, {0, 129, 0, 255} }},
	{{ {-330, 735, -513}, 0, {616, 23}, {0, 129, 0, 255} }},
	{{ {-501, -120, -347}, 0, {1872, 1347}, {88, 0, 91, 255} }},
	{{ {-330, -120, -513}, 0, {1759, 1363}, {88, 0, 91, 255} }},
	{{ {-330, 735, -513}, 0, {1733, -858}, {88, 0, 91, 255} }},
	{{ {-501, 735, -347}, 0, {1874, -874}, {88, 0, 91, 255} }},
	{{ {-330, -120, -513}, 0, {1759, 1363}, {47, 0, 118, 255} }},
	{{ {-109, -120, -600}, 0, {1646, 1417}, {47, 0, 118, 255} }},
	{{ {-109, 735, -600}, 0, {1597, -804}, {47, 0, 118, 255} }},
	{{ {-330, 735, -513}, 0, {1733, -858}, {47, 0, 118, 255} }},
	{{ {129, -120, -596}, 0, {1400, 23}, {0, 127, 0, 255} }},
	{{ {-109, -120, -600}, 0, {1008, -16}, {0, 127, 0, 255} }},
	{{ {-330, -120, -513}, 0, {616, 23}, {0, 127, 0, 255} }},
	{{ {-596, -120, -129}, 0, {62, 300}, {0, 127, 0, 255} }},
	{{ {-501, -120, -347}, 0, {284, 134}, {0, 127, 0, 255} }},
	{{ {-129, -120, 596}, 0, {616, 969}, {0, 127, 0, 255} }},
	{{ {-513, -120, 330}, 0, {62, 692}, {0, 127, 0, 255} }},
	{{ {-600, -120, 109}, 0, {-16, 496}, {0, 127, 0, 255} }},
	{{ {-347, -120, 501}, 0, {284, 858}, {0, 127, 0, 255} }},
	{{ {109, -120, 600}, 0, {1008, 1008}, {0, 127, 0, 255} }},
	{{ {330, -120, 513}, 0, {1400, 969}, {0, 127, 0, 255} }},
	{{ {596, -120, 129}, 0, {1954, 692}, {0, 127, 0, 255} }},
	{{ {501, -120, 347}, 0, {1732, 858}, {0, 127, 0, 255} }},
	{{ {596, -120, 129}, 0, {1954, 692}, {0, 127, 0, 255} }},
	{{ {513, -120, -330}, 0, {1954, 300}, {0, 127, 0, 255} }},
	{{ {129, -120, -596}, 0, {1400, 23}, {0, 127, 0, 255} }},
	{{ {600, -120, -109}, 0, {2032, 496}, {0, 127, 0, 255} }},
	{{ {347, -120, -501}, 0, {1732, 134}, {0, 127, 0, 255} }},
};

Gfx escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_tri_0[] = {
	gsSPVertex(escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_vtx_0 + 0, 32, 0),
	gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
	gsSP2Triangles(4, 5, 6, 0, 4, 6, 7, 0),
	gsSP2Triangles(8, 9, 10, 0, 8, 10, 11, 0),
	gsSP2Triangles(12, 13, 14, 0, 12, 14, 15, 0),
	gsSP2Triangles(16, 17, 18, 0, 16, 18, 19, 0),
	gsSP2Triangles(20, 21, 22, 0, 20, 22, 23, 0),
	gsSP2Triangles(24, 25, 26, 0, 24, 26, 27, 0),
	gsSP2Triangles(28, 29, 30, 0, 28, 30, 31, 0),
	gsSPVertex(escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_vtx_0 + 32, 32, 0),
	gsSP2Triangles(0, 1, 2, 0, 0, 2, 3, 0),
	gsSP2Triangles(4, 5, 6, 0, 4, 6, 7, 0),
	gsSP2Triangles(8, 9, 10, 0, 8, 10, 11, 0),
	gsSP2Triangles(12, 13, 14, 0, 12, 14, 15, 0),
	gsSP2Triangles(16, 17, 18, 0, 16, 18, 19, 0),
	gsSP2Triangles(20, 21, 22, 0, 20, 22, 23, 0),
	gsSP2Triangles(24, 25, 26, 0, 24, 26, 27, 0),
	gsSP2Triangles(26, 28, 27, 0, 24, 27, 29, 0),
	gsSP2Triangles(27, 30, 29, 0, 27, 31, 30, 0),
	gsSPVertex(escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_vtx_0 + 64, 32, 0),
	gsSP2Triangles(0, 1, 2, 0, 2, 3, 4, 0),
	gsSP2Triangles(2, 4, 5, 0, 4, 6, 5, 0),
	gsSP2Triangles(2, 5, 7, 0, 5, 8, 7, 0),
	gsSP2Triangles(5, 9, 8, 0, 8, 10, 7, 0),
	gsSP2Triangles(11, 12, 13, 0, 11, 13, 14, 0),
	gsSP2Triangles(15, 16, 17, 0, 15, 17, 18, 0),
	gsSP2Triangles(19, 20, 21, 0, 19, 21, 22, 0),
	gsSP2Triangles(21, 23, 22, 0, 19, 22, 24, 0),
	gsSP2Triangles(22, 25, 24, 0, 22, 26, 25, 0),
	gsSP2Triangles(25, 27, 24, 0, 24, 28, 29, 0),
	gsSP2Triangles(24, 29, 30, 0, 29, 31, 30, 0),
	gsSP1Triangle(24, 30, 19, 0),
	gsSPVertex(escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_vtx_0 + 96, 5, 0),
	gsSP2Triangles(0, 1, 2, 0, 0, 3, 1, 0),
	gsSP1Triangle(1, 4, 2, 0),
	gsSPEndDisplayList(),
};

Gfx mat_escape_rm_boss_dl_f3dlite_material_layerOpaque[] = {
	gsDPPipeSync(),
	gsDPSetCombineLERP(TEXEL0, 0, SHADE, 0, 0, 0, 0, 1, COMBINED, 0, PRIMITIVE, 0, 0, 0, 0, COMBINED),
	gsSPLoadGeometryMode(G_ZBUFFER | G_SHADE | G_CULL_BACK | G_FOG | G_LIGHTING | G_SHADING_SMOOTH),
	gsSPSetOtherMode(G_SETOTHERMODE_H, 4, 20, G_AD_NOISE | G_CD_MAGICSQ | G_CK_NONE | G_TC_FILT | G_TF_BILERP | G_TT_RGBA16 | G_TL_TILE | G_TD_CLAMP | G_TP_PERSP | G_CYC_2CYCLE | G_PM_NPRIMITIVE),
	gsSPSetOtherMode(G_SETOTHERMODE_L, 0, 32, G_AC_NONE | G_ZS_PIXEL | G_RM_FOG_SHADE_A | G_RM_AA_ZB_OPA_SURF2),
	gsSPTexture(65535, 65535, 0, 0, 1),
	gsDPSetPrimColor(0, 0, 255, 255, 255, 255),
	gsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, escape_rm_boss_dl_syotes2_room_0Tex_006EF8_rgba16_pal_rgba16),
	gsDPSetTile(0, 0, 0, 256, 5, 0, G_TX_WRAP | G_TX_NOMIRROR, 0, 0, G_TX_WRAP | G_TX_NOMIRROR, 0, 0),
	gsDPLoadTLUTCmd(5, 13),
	gsDPSetTextureImage(G_IM_FMT_CI, G_IM_SIZ_16b, 1, escape_rm_boss_dl_syotes2_room_0Tex_006EF8_rgba16_ci4),
	gsDPSetTile(G_IM_FMT_CI, G_IM_SIZ_16b, 0, 0, 7, 0, G_TX_WRAP | G_TX_NOMIRROR, 0, 0, G_TX_WRAP | G_TX_NOMIRROR, 0, 0),
	gsDPLoadBlock(7, 0, 0, 511, 512),
	gsDPSetTile(G_IM_FMT_CI, G_IM_SIZ_4b, 4, 0, 0, 0, G_TX_WRAP | G_TX_NOMIRROR, 5, 0, G_TX_WRAP | G_TX_NOMIRROR, 6, 0),
	gsDPSetTileSize(0, 0, 0, 252, 124),
	gsSPEndDisplayList(),
};

Gfx escape_rm_boss_dl_Cylinder_mesh_layer_Opaque[] = {
	gsSPClearGeometryMode(G_LIGHTING),
	gsSPVertex(escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_vtx_cull + 0, 8, 0),
	gsSPSetGeometryMode(G_LIGHTING),
	gsSPCullDisplayList(0, 7),
	gsSPDisplayList(mat_escape_rm_boss_dl_f3dlite_material_layerOpaque),
	gsSPDisplayList(escape_rm_boss_dl_Cylinder_mesh_layer_Opaque_tri_0),
	gsSPEndDisplayList(),
};

